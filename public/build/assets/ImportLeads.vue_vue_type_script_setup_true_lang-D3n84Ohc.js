import{a as v,_ as i}from"./index-C-DuyO8D.js";import{_ as C,a as w,b as x,c as h,d as $,e as S,f as k,g as V}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-BZWZnH_P.js";import{_ as A}from"./Input.vue_vue_type_script_setup_true_lang-ByD1ommd.js";import{_ as I}from"./Label.vue_vue_type_script_setup_true_lang-xZOwMxLN.js";import{d as L,y as f,j as B,C as N,g as T,o as U,w as a,e as s,f as o,u as j,b as n}from"./app-BIvNjbzt.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=v("CopyCheckIcon",[["path",{d:"m12 15 2 2 4-4",key:"2c609p"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),z={class:"space-y-4"},D={class:"space-x-2 space-y-2 w-full"},E={class:"space-y-2"},G=L({__name:"ImportLeads",props:{submissionAlert:{}},emits:["update:alert"],setup(p,{emit:c}){const r=p,d=f({isShow:r.submissionAlert.isShow,message:r.submissionAlert.message}),_=c;B([d],([t])=>{console.log("Submission Alert Updated:",t),console.log("oldSubmissionAlert:",r.submissionAlert),_("update:alert",t)});const l=f(null),u=f(!1),m=N({file:null});function y(t){const e=t.target;e.files&&e.files.length>0?l.value=e.files[0]:l.value=null}function b(){l.value?(m.file=l.value,m.post("/admins/leads/import",{onSuccess:()=>{l.value=null,u.value=!1,d.value={isShow:!0,message:"Leads imported successfully!"}},onError:t=>{console.error("Import failed:",t)}})):alert("Please select a CSV file to upload.")}return(t,e)=>(U(),T(V,{open:u.value,"onUpdate:open":e[0]||(e[0]=g=>u.value=g)},{default:a(()=>[s(C,null,{default:a(()=>[s(i,{class:"w-full",variant:"secondary"},{default:a(()=>[s(j(P)),e[1]||(e[1]=o(" Import Leads "))]),_:1})]),_:1}),s(w,null,{default:a(()=>[s(x,null,{default:a(()=>[s(h,null,{default:a(()=>e[2]||(e[2]=[o("Import Leads")])),_:1}),s($,null,{default:a(()=>e[3]||(e[3]=[o(" Put your excel file here to import leads. The file should be in CSV format. ")])),_:1})]),_:1}),n("div",z,[e[6]||(e[6]=n("p",{class:"text-sm text-gray-600"}," Before importing, please ensure that your CSV file is formatted correctly. You can download the templates below to help you format your data correctly: ",-1)),n("div",D,[s(i,{class:"bg-blue-500 hover:bg-blue-600 text-white"},{default:a(()=>e[4]||(e[4]=[n("a",{href:"/storage/leads-upload-template.csv",class:"w-full",target:"_blank"}," Download Leads Template ",-1)])),_:1})]),n("div",E,[s(I,null,{default:a(()=>e[5]||(e[5]=[o("Upload CSV file")])),_:1}),s(A,{type:"file",accept:".csv",onChange:y,class:"mt-2"})])]),s(S,null,{default:a(()=>[s(k,null,{default:a(()=>[s(i,{type:"button",variant:"secondary"},{default:a(()=>e[7]||(e[7]=[o(" Close ")])),_:1})]),_:1}),s(i,{variant:"default",onClick:b,disabled:!l.value},{default:a(()=>e[8]||(e[8]=[o(" Submit ")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]))}});export{G as _};
