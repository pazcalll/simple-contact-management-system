import{_ as k,h as C,a as F}from"./TablePaginationAjax.vue_vue_type_script_setup_true_lang-ChSCBrJp.js";import{_ as B,a as E,b as m,c as d,d as U,e as i}from"./TableHeader.vue_vue_type_script_setup_true_lang-CABqKlZN.js";import{_ as V,R as j}from"./AppLayout.vue_vue_type_script_setup_true_lang-CQI-9P8Z.js";import{d as R,n as J,y as L,g,o as u,w as a,b as p,e as s,u as l,f as o,a as c,h as M,F as x,r as A,t as _}from"./app-DDJy9goU.js";import"./index-USgevw8Q.js";import"./Input.vue_vue_type_script_setup_true_lang-BR0yeles.js";import"./useForwardExpose-D31GOZNC.js";import"./useForwardPropsEmits-Dw8SCXUW.js";import"./x-BC2tDXyL.js";import"./RovingFocusGroup-D0KMisn-.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DRzWBEcr.js";const X={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},D={class:"w-full rounded-lg border"},G={class:"list-disc"},O={class:"flex w-full justify-center"},P={class:"w-full max-w-[14rem]"},ee=R({__name:"Customers",setup(S){var v;const f=J(),n=L((v=f==null?void 0:f.props)==null?void 0:v.customers),w=r=>(console.log(r),r?r.filter(e=>!e.roles.some(t=>t.name===j)):[]),y=async()=>{const r=await C({pagination:n,endpoint:"/supervisor/customers"});r!=null&&(n.value=r)},b=async()=>{const r=await F({pagination:n,endpoint:"/supervisor/customers"});r!=null&&(n.value=r)};return(r,e)=>(u(),g(V,null,{default:a(()=>[p("div",X,[p("div",D,[s(l(B),{class:"w-full"},{default:a(()=>[s(l(E),{class:"text-[12pt]"},{default:a(()=>[s(l(m),{class:"bg-[#F5F5F4] dark:bg-[#1C1C1A]"},{default:a(()=>[s(l(d),null,{default:a(()=>e[3]||(e[3]=[o("Name")])),_:1}),s(l(d),null,{default:a(()=>e[4]||(e[4]=[o("Mobile")])),_:1}),s(l(d),null,{default:a(()=>e[5]||(e[5]=[o("Email")])),_:1}),s(l(d),null,{default:a(()=>e[6]||(e[6]=[o("Assignees")])),_:1})]),_:1})]),_:1}),s(l(U),null,{default:a(()=>[(u(!0),c(x,null,A(n.value.data,t=>(u(),g(l(m),{key:t==null?void 0:t.id},{default:a(()=>[s(l(i),null,{default:a(()=>[o(_(t.name),1)]),_:2},1024),s(l(i),null,{default:a(()=>[o(_(t.mobile_number),1)]),_:2},1024),s(l(i),null,{default:a(()=>[o(_(t.email),1)]),_:2},1024),s(l(i),null,{default:a(()=>[p("ul",G,[(u(!0),c(x,null,A(w(t.users),(N,$)=>(u(),c("li",{key:$},_(N.name),1))),128))])]),_:2},1024)]),_:2},1024))),128)),n.value.data.length===0?(u(),g(l(m),{key:0},{default:a(()=>[s(l(i),{colspan:"4",class:"text-center text-gray-500"},{default:a(()=>e[7]||(e[7]=[o(" No customers found. ")])),_:1})]),_:1})):M("",!0)]),_:1})]),_:1}),p("div",O,[p("div",P,[s(k,{current_page:n.value.current_page,last_page:n.value.last_page,per_page:n.value.per_page,next:y,prev:b,"onUpdate:current_page":e[0]||(e[0]=t=>n.value.current_page=t),"onUpdate:per_page":e[1]||(e[1]=t=>n.value.per_page=t),"onUpdate:last_page":e[2]||(e[2]=t=>n.value.last_page=t)},null,8,["current_page","last_page","per_page"])])])])])]),_:1}))}});export{ee as default};
