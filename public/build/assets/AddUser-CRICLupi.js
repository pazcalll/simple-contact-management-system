import{d as j,n as D,C as L,y as v,g as w,o as r,w as o,b as d,i as T,e as t,a as n,h as u,f as i,u as l,t as m,F as $,r as U}from"./app-wyVmJDg6.js";import{_ as q,a as z,b as G,c as H}from"./CardHeader.vue_vue_type_script_setup_true_lang-Dy4rXlsU.js";import{_ as x}from"./Input.vue_vue_type_script_setup_true_lang-C8TcTpi_.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-DoKaqRMU.js";import{_ as I}from"./AppLayout.vue_vue_type_script_setup_true_lang-6x_Iz9PP.js";import{_ as g}from"./index-D4rW4xQz.js";import{a as J}from"./users-BtwOUv08.js";import{_ as C,a as S,b as B,c as N,d as R,e as A}from"./SelectContent.vue_vue_type_script_setup_true_lang-CDAbAJAw.js";import"./useForwardExpose-CrfCHcOy.js";import"./useForwardPropsEmits-CrHVVcKp.js";import"./x-ZmlO-qpB.js";import"./RovingFocusGroup-Bmj9ler1.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-sUAGn5gP.js";import"./check-Dmz0x2zg.js";const K={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},O={class:"mx-0 flex w-full justify-center"},Q={class:"mx-3 my-5 space-y-2"},W={key:0,class:"text-xs text-red-500"},X={class:"mx-3 my-5 space-y-2"},Y={key:0,class:"text-xs text-red-500"},Z={class:"mx-3 my-5 space-y-2"},h={key:0,class:"text-xs text-red-500"},ee={class:"mx-3 my-5 space-y-2"},se={key:0,class:"text-xs text-red-500"},le={class:"mx-3 my-5 space-y-2"},te={key:0,class:"text-xs text-red-500"},oe={class:"mx-3 my-5 space-y-2"},ae={key:0,class:"text-xs text-red-500"},re={key:0,class:"mx-3 my-5 space-y-2"},de={key:0,class:"text-xs text-red-500"},ie={class:"mx-3 grid w-full grid-cols-2 gap-4"},Ue=j({__name:"AddUser",setup(ne){const E=D(),s=L({name:"",email:"",password:"",password_confirmation:"",mobile:"",role_id:"",upline_id:""}),V=E.props.roles,b=v([]),c=v(),F=v(),M=async()=>{await s.submit("post","/admins/users")},P=async k=>{var f;const e=V.filter(p=>p.id===k)[0];if(c.value=e,e.upline){const p=await J(((f=e.upline)==null?void 0:f.id)+"");b.value=p}s.upline_id="",F.value=void 0};return(k,e)=>(r(),w(I,null,{default:o(()=>[d("div",K,[d("div",O,[d("form",{onSubmit:T(M,["prevent"])},[t(q,{class:"block w-[26rem] md:w-[40rem]"},{default:o(()=>[t(z,{class:"w-full text-center"},{default:o(()=>e[7]||(e[7]=[d("h2",{class:"text-2xl font-bold"},"Add User",-1)])),_:1}),t(G,null,{default:o(()=>{var f,p;return[d("div",Q,[t(_,null,{default:o(()=>e[8]||(e[8]=[i(" Name ")])),_:1}),t(x,{modelValue:l(s).name,"onUpdate:modelValue":e[0]||(e[0]=a=>l(s).name=a)},null,8,["modelValue"]),l(s).errors.name?(r(),n("div",W,m(l(s).errors.name),1)):u("",!0)]),d("div",X,[t(_,null,{default:o(()=>e[9]||(e[9]=[i(" Email ")])),_:1}),t(x,{modelValue:l(s).email,"onUpdate:modelValue":e[1]||(e[1]=a=>l(s).email=a),type:"email"},null,8,["modelValue"]),l(s).errors.email?(r(),n("div",Y,m(l(s).errors.email),1)):u("",!0)]),d("div",Z,[t(_,null,{default:o(()=>e[10]||(e[10]=[i(" Password ")])),_:1}),t(x,{modelValue:l(s).password,"onUpdate:modelValue":e[2]||(e[2]=a=>l(s).password=a),type:"password"},null,8,["modelValue"]),l(s).errors.password?(r(),n("div",h,m(l(s).errors.password),1)):u("",!0)]),d("div",ee,[t(_,null,{default:o(()=>e[11]||(e[11]=[i(" Password Confirmation ")])),_:1}),t(x,{modelValue:l(s).password_confirmation,"onUpdate:modelValue":e[3]||(e[3]=a=>l(s).password_confirmation=a),type:"password"},null,8,["modelValue"]),l(s).errors.password_confirmation?(r(),n("div",se,m(l(s).errors.password_confirmation),1)):u("",!0)]),d("div",le,[t(_,null,{default:o(()=>e[12]||(e[12]=[i(" Mobile ")])),_:1}),t(x,{modelValue:l(s).mobile,"onUpdate:modelValue":e[4]||(e[4]=a=>l(s).mobile=a),type:"number"},null,8,["modelValue"]),l(s).errors.mobile?(r(),n("div",te,m(l(s).errors.mobile),1)):u("",!0)]),d("div",oe,[t(_,null,{default:o(()=>e[13]||(e[13]=[i(" Role ")])),_:1}),t(C,{modelValue:l(s).role_id,"onUpdate:modelValue":[e[5]||(e[5]=a=>l(s).role_id=a),P]},{default:o(()=>[t(S,{class:"w-full cursor-pointer"},{default:o(()=>[t(B,{placeholder:"Select a role"})]),_:1}),t(N,null,{default:o(()=>[t(R,null,{default:o(()=>[(r(!0),n($,null,U(l(V),(a,y)=>(r(),w(A,{key:y,value:a.id},{default:o(()=>[i(m(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(s).errors.role_id?(r(),n("div",ae,m(l(s).errors.role_id),1)):u("",!0)]),((f=c.value)==null?void 0:f.name)!=="admin"&&c.value!==void 0&&((p=c.value)==null?void 0:p.name)!=="manager"?(r(),n("div",re,[t(_,null,{default:o(()=>e[14]||(e[14]=[i(" Upline ")])),_:1}),t(C,{modelValue:l(s).upline_id,"onUpdate:modelValue":e[6]||(e[6]=a=>l(s).upline_id=a)},{default:o(()=>[t(S,{class:"w-full cursor-pointer"},{default:o(()=>[t(B,{placeholder:"Select a upline"})]),_:1}),t(N,null,{default:o(()=>[t(R,null,{default:o(()=>[(r(!0),n($,null,U(b.value,(a,y)=>(r(),w(A,{key:y,value:a.id},{default:o(()=>[i(m(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(s).errors.upline_id?(r(),n("div",de,m(l(s).errors.upline_id),1)):u("",!0)])):u("",!0)]}),_:1}),t(H,null,{default:o(()=>[d("div",ie,[t(g,{variant:"default",type:"submit"},{default:o(()=>e[15]||(e[15]=[i(" Create ")])),_:1}),t(g,{type:"reset"},{default:o(()=>e[16]||(e[16]=[i(" Reset ")])),_:1})])]),_:1})]),_:1})],32)])])]),_:1}))}});export{Ue as default};
