import{_ as E,h as F,a as N}from"./TablePaginationAjax.vue_vue_type_script_setup_true_lang-BQqb2eQV.js";import{_ as C,a as B,b as m,c as p,d as L,e as i}from"./TableHeader.vue_vue_type_script_setup_true_lang-CZBS91tr.js";import{_ as U,a as V,b as j}from"./AppLayout.vue_vue_type_script_setup_true_lang-TRrocCVM.js";import{d as R,n as T,y as D,g,o as u,w as t,b as _,e as l,u as s,f as o,a as v,h as J,F as x,r as A,t as d}from"./app-tkg7dsYH.js";import"./index-DuttKFup.js";import"./Input.vue_vue_type_script_setup_true_lang-CEZtgjug.js";import"./useForwardExpose-D0DHfJKi.js";import"./useForwardPropsEmits-CExwO9bJ.js";import"./x-Bk3tdh3l.js";import"./RovingFocusGroup-CwsZ91zU.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-Cp-9oxeK.js";const M={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},O={class:"w-full rounded-lg border"},S={class:"list-disc"},X={class:"flex w-full justify-center"},P={class:"w-full max-w-[14rem]"},ae=R({__name:"Customers",setup(q){var c;const f=T(),n=D((c=f==null?void 0:f.props)==null?void 0:c.customers),b=r=>r?r.filter(e=>e.roles.some(a=>a.name===V||a.name===j)):[],w=async()=>{const r=await F({pagination:n,endpoint:"/supervisor/customers"});r!=null&&(n.value=r)},y=async()=>{const r=await N({pagination:n,endpoint:"/supervisor/customers"});r!=null&&(n.value=r)};return(r,e)=>(u(),g(U,null,{default:t(()=>[_("div",M,[_("div",O,[l(s(C),{class:"w-full"},{default:t(()=>[l(s(B),{class:"text-[12pt]"},{default:t(()=>[l(s(m),{class:"bg-[#F5F5F4] dark:bg-[#1C1C1A]"},{default:t(()=>[l(s(p),null,{default:t(()=>e[3]||(e[3]=[o("Name")])),_:1}),l(s(p),null,{default:t(()=>e[4]||(e[4]=[o("Mobile")])),_:1}),l(s(p),null,{default:t(()=>e[5]||(e[5]=[o("Email")])),_:1}),l(s(p),null,{default:t(()=>e[6]||(e[6]=[o("Assignees")])),_:1})]),_:1})]),_:1}),l(s(L),null,{default:t(()=>[(u(!0),v(x,null,A(n.value.data,a=>(u(),g(s(m),{key:a==null?void 0:a.id},{default:t(()=>[l(s(i),null,{default:t(()=>[o(d(a.name),1)]),_:2},1024),l(s(i),null,{default:t(()=>[o(d(a.mobile_number),1)]),_:2},1024),l(s(i),null,{default:t(()=>[o(d(a.email),1)]),_:2},1024),l(s(i),null,{default:t(()=>[_("ul",S,[(u(!0),v(x,null,A(b(a.users),($,k)=>(u(),v("li",{key:k},d($.name),1))),128))])]),_:2},1024)]),_:2},1024))),128)),n.value.data.length===0?(u(),g(s(m),{key:0},{default:t(()=>[l(s(i),{colspan:"4",class:"text-center text-gray-500"},{default:t(()=>e[7]||(e[7]=[o(" No customers found. ")])),_:1})]),_:1})):J("",!0)]),_:1})]),_:1}),_("div",X,[_("div",P,[l(E,{current_page:n.value.current_page,last_page:n.value.last_page,per_page:n.value.per_page,next:w,prev:y,"onUpdate:current_page":e[0]||(e[0]=a=>n.value.current_page=a),"onUpdate:per_page":e[1]||(e[1]=a=>n.value.per_page=a),"onUpdate:last_page":e[2]||(e[2]=a=>n.value.last_page=a)},null,8,["current_page","last_page","per_page"])])])])])]),_:1}))}});export{ae as default};
