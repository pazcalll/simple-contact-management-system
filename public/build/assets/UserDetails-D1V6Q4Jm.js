import{d as G,n as H,C as I,y as v,g as w,o as r,w as t,b as d,i as J,e as o,a as n,h as p,f as u,u as l,t as m,F as j,r as D}from"./app-BKx6Yzos.js";import{_ as K,a as O,b as Q,c as W}from"./CardHeader.vue_vue_type_script_setup_true_lang-D0lHRc-_.js";import{_ as c}from"./Input.vue_vue_type_script_setup_true_lang-BVnPVb6E.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-CE8Y18kg.js";import{_ as X}from"./AppLayout.vue_vue_type_script_setup_true_lang-B3Z1Ze2w.js";import{_ as Y}from"./index-BwYBk5Mv.js";import{a as Z}from"./users-BtwOUv08.js";import{_ as E,a as F,b as M,c as P,d as A,e as L}from"./SelectContent.vue_vue_type_script_setup_true_lang-Dumze_Ob.js";import"./useForwardExpose-Cd2E8DQ9.js";import"./useForwardPropsEmits-DgmM-b9Z.js";import"./x-CN5p5nhb.js";import"./RovingFocusGroup-BbzB7d73.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DKTEMSbj.js";import"./check--QYb9CZ7.js";const h={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},ee={class:"mx-0 flex w-full justify-center"},se={class:"mx-3 my-5 space-y-2"},le={key:0,class:"text-xs text-red-500"},oe={class:"mx-3 my-5 space-y-2"},te={key:0,class:"text-xs text-red-500"},ae={class:"mx-3 my-5 space-y-2"},re={key:0,class:"text-xs text-red-500"},de={class:"mx-3 my-5 space-y-2"},ie={key:0,class:"text-xs text-red-500"},ne={class:"mx-3 my-5 space-y-2"},ue={key:0,class:"text-xs text-red-500"},me={class:"mx-3 my-5 space-y-2"},pe={key:0,class:"text-xs text-red-500"},_e={key:0,class:"mx-3 my-5 space-y-2"},fe={key:0,class:"text-xs text-red-500"},ce={class:"mx-3 flex w-full justify-center gap-4"},je=G({__name:"UserDetails",setup(xe){var U,k,$,g,S,B,C;const i=H(),s=I({name:((U=i.props.user)==null?void 0:U.name)||"",email:((k=i.props.user)==null?void 0:k.email)||"",password:"",password_confirmation:"",mobile:(($=i.props.user)==null?void 0:$.mobile)||"",role_id:((S=(g=i.props.user)==null?void 0:g.roles[0])==null?void 0:S.id)||"",upline_id:((B=i.props.user)==null?void 0:B.upline_id)||""}),V=i.props.roles,b=v(i.props.possibleUplines||[]),x=v((C=i.props.user)==null?void 0:C.roles[0]),T=v(i.props.upline),q=()=>{s.submit("patch","/admins/users/"+i.props.user.id)},z=async N=>{const e=V.filter(f=>f.id===N)[0];if(x.value=e,e.upline_id){const f=await Z(e.upline_id+"");b.value=f}s.upline_id="",T.value=void 0};return(N,e)=>(r(),w(X,null,{default:t(()=>[d("div",h,[d("div",ee,[d("form",{onSubmit:J(q,["prevent"])},[o(K,{class:"block w-[26rem] md:w-[40rem]"},{default:t(()=>[o(O,{class:"w-full text-center"},{default:t(()=>e[7]||(e[7]=[d("h2",{class:"text-2xl font-bold"},"Add User",-1)])),_:1}),o(Q,null,{default:t(()=>{var f,R;return[d("div",se,[o(_,null,{default:t(()=>e[8]||(e[8]=[u(" Name ")])),_:1}),o(c,{modelValue:l(s).name,"onUpdate:modelValue":e[0]||(e[0]=a=>l(s).name=a)},null,8,["modelValue"]),l(s).errors.name?(r(),n("div",le,m(l(s).errors.name),1)):p("",!0)]),d("div",oe,[o(_,null,{default:t(()=>e[9]||(e[9]=[u(" Email ")])),_:1}),o(c,{modelValue:l(s).email,"onUpdate:modelValue":e[1]||(e[1]=a=>l(s).email=a),type:"email"},null,8,["modelValue"]),l(s).errors.email?(r(),n("div",te,m(l(s).errors.email),1)):p("",!0)]),d("div",ae,[o(_,null,{default:t(()=>e[10]||(e[10]=[u(" Password ")])),_:1}),o(c,{modelValue:l(s).password,"onUpdate:modelValue":e[2]||(e[2]=a=>l(s).password=a),type:"password"},null,8,["modelValue"]),l(s).errors.password?(r(),n("div",re,m(l(s).errors.password),1)):p("",!0)]),d("div",de,[o(_,null,{default:t(()=>e[11]||(e[11]=[u(" Password Confirmation ")])),_:1}),o(c,{modelValue:l(s).password_confirmation,"onUpdate:modelValue":e[3]||(e[3]=a=>l(s).password_confirmation=a),type:"password"},null,8,["modelValue"]),l(s).errors.password_confirmation?(r(),n("div",ie,m(l(s).errors.password_confirmation),1)):p("",!0)]),d("div",ne,[o(_,null,{default:t(()=>e[12]||(e[12]=[u(" Mobile ")])),_:1}),o(c,{modelValue:l(s).mobile,"onUpdate:modelValue":e[4]||(e[4]=a=>l(s).mobile=a),type:"number"},null,8,["modelValue"]),l(s).errors.mobile?(r(),n("div",ue,m(l(s).errors.mobile),1)):p("",!0)]),d("div",me,[o(_,null,{default:t(()=>e[13]||(e[13]=[u(" Role ")])),_:1}),o(E,{modelValue:l(s).role_id,"onUpdate:modelValue":[e[5]||(e[5]=a=>l(s).role_id=a),z]},{default:t(()=>[o(F,{class:"w-full cursor-pointer"},{default:t(()=>[o(M,{placeholder:"Select a role"})]),_:1}),o(P,null,{default:t(()=>[o(A,null,{default:t(()=>[(r(!0),n(j,null,D(l(V),(a,y)=>(r(),w(L,{key:y,value:a.id},{default:t(()=>[u(m(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(s).errors.role_id?(r(),n("div",pe,m(l(s).errors.role_id),1)):p("",!0)]),((f=x.value)==null?void 0:f.name)!=="admin"&&x.value!==void 0&&((R=x.value)==null?void 0:R.name)!=="manager"?(r(),n("div",_e,[o(_,null,{default:t(()=>e[14]||(e[14]=[u(" Upline ")])),_:1}),o(E,{modelValue:l(s).upline_id,"onUpdate:modelValue":e[6]||(e[6]=a=>l(s).upline_id=a)},{default:t(()=>[o(F,{class:"w-full cursor-pointer"},{default:t(()=>[o(M,{placeholder:"Select a upline"})]),_:1}),o(P,null,{default:t(()=>[o(A,null,{default:t(()=>[(r(!0),n(j,null,D(b.value,(a,y)=>(r(),w(L,{key:y,value:a.id},{default:t(()=>[u(m(a.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(s).errors.upline_id?(r(),n("div",fe,m(l(s).errors.upline_id),1)):p("",!0)])):p("",!0)]}),_:1}),o(W,null,{default:t(()=>[d("div",ce,[o(Y,{variant:"default",class:"w-[50%]",type:"submit"},{default:t(()=>e[15]||(e[15]=[u(" Update ")])),_:1})])]),_:1})]),_:1})],32)])])]),_:1}))}});export{je as default};
