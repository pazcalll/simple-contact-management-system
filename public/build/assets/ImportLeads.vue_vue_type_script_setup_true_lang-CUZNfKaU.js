import{a as v,_ as u}from"./index-Bl7ULf9p.js";import{_ as C,a as S,b as w,c as x,d as h,e as $,f as k,g as V}from"./DialogTrigger.vue_vue_type_script_setup_true_lang-nlN60pnD.js";import{_ as A}from"./Input.vue_vue_type_script_setup_true_lang-DRq4L5js.js";import{_ as I}from"./Label.vue_vue_type_script_setup_true_lang-C1s4DYKS.js";import{d as L,y as f,j as B,C as N,g as T,o as U,w as t,e as s,f as o,u as j,b as n}from"./app-DDH9-M8F.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=v("CopyCheckIcon",[["path",{d:"m12 15 2 2 4-4",key:"2c609p"}],["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),P={class:"space-y-4"},z={class:"w-full space-y-2 space-x-2"},D={class:"space-y-2"},G=L({__name:"ImportLeads",props:{submissionAlert:{},onSubmissionSuccess:{type:Function}},emits:["update:alert"],setup(p,{emit:c}){const i=p,d=f({isShow:i.submissionAlert.isShow,message:i.submissionAlert.message}),_=c;B([d],([a])=>{console.log("Submission Alert Updated:",a),console.log("oldSubmissionAlert:",i.submissionAlert),_("update:alert",a)});const l=f(null),r=f(!1),m=N({file:null});function y(a){const e=a.target;e.files&&e.files.length>0?l.value=e.files[0]:l.value=null}function b(){l.value?(m.file=l.value,m.post("/admins/leads/import",{onSuccess:()=>{l.value=null,r.value=!1,d.value={isShow:!0,message:"Leads imported successfully!"},i.onSubmissionSuccess()},onError:a=>{console.error("Import failed:",a)}})):alert("Please select a CSV file to upload.")}return(a,e)=>(U(),T(V,{open:r.value,"onUpdate:open":e[0]||(e[0]=g=>r.value=g)},{default:t(()=>[s(C,null,{default:t(()=>[s(u,{class:"w-full",variant:"secondary"},{default:t(()=>[s(j(F)),e[1]||(e[1]=o(" Import Leads "))]),_:1})]),_:1}),s(S,null,{default:t(()=>[s(w,null,{default:t(()=>[s(x,null,{default:t(()=>e[2]||(e[2]=[o("Import Leads")])),_:1}),s(h,null,{default:t(()=>e[3]||(e[3]=[o(" Put your excel file here to import leads. The file should be in CSV format. ")])),_:1})]),_:1}),n("div",P,[e[6]||(e[6]=n("p",{class:"text-sm text-gray-600"}," Before importing, please ensure that your CSV file is formatted correctly. You can download the templates below to help you format your data correctly: ",-1)),n("div",z,[s(u,{class:"bg-blue-500 text-white hover:bg-blue-600"},{default:t(()=>e[4]||(e[4]=[n("a",{href:"/leads/template",class:"w-full",target:"_blank"}," Download Leads Template ",-1)])),_:1})]),n("div",D,[s(I,null,{default:t(()=>e[5]||(e[5]=[o("Upload CSV file")])),_:1}),s(A,{type:"file",accept:".csv",onChange:y,class:"mt-2"})])]),s($,null,{default:t(()=>[s(k,null,{default:t(()=>[s(u,{type:"button",variant:"secondary"},{default:t(()=>e[7]||(e[7]=[o(" Close ")])),_:1})]),_:1}),s(u,{variant:"default",onClick:b,disabled:!l.value},{default:t(()=>e[8]||(e[8]=[o(" Submit ")])),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]))}});export{G as _};
